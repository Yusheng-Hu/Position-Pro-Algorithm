- name: Run Benchmarks
        working-directory: ./PermutationIndexing
        run: |
          # Detect Hardware
          CPU_RAW=$(grep -m 1 "model name" /proc/cpuinfo | cut -d: -f2 | xargs)
          if [[ "$CPU_RAW" == *"AMD"* ]]; then VENDOR="AMD"; else VENDOR="INTEL"; fi
          echo "VENDOR=$VENDOR" >> $GITHUB_ENV
          
          # Compile using your high-performance flags
          # Note: We use map_algorithm_test.cpp as verified from your uploaded image
          g++ -O3 -std=c++11 -march=native -flto -ffast-math -fomit-frame-pointer \
              map_algorithm_test.cpp -o perf_test -pthread
          
          # Run and capture data
          ./perf_test > table_content.tmp
          
          # Formatting for README
          T_UTC=$(date -u +"%a %b %d %H:%M:%S %Y UTC")
          echo "**Last Run:** $T_UTC" > ../table.tmp
          echo "**Environment:** $CPU_RAW" >> ../table.tmp
          echo "" >> ../table.tmp
          cat table_content.tmp >> ../table.tmp
